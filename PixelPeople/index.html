<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <title>Pixel People</title>
  <meta property="og:title" content="Pixel People" />
  <meta property="og:description" content="Can you guess all the Pixel People?" />
  <meta property="og:type" content="website" />
  <meta property="og:url" content="https://ryndesign.github.io/PixelPeople/index.html" />
  <meta property="og:image" content="https://ryndesign.github.io/PixelPeople/cover.jpg" />
  <meta property="twitter:card" content="summary_large_image" />
  <meta property="twitter:image" content="https://ryndesign.github.io/PixelPeople/cover.jpg" />
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no" />
  <meta name="build" content="master-1.14.0" />
  <link rel="icon" type="image/jpeg" href="favicon.jpg" />
  <script src="season-loader.js"></script>
  <link rel="stylesheet" href="style.css" />
</head>
<body>
  <div class="wrap">
    <div class="level-bar">
      <span class="pill" id="homeBtn" role="button" tabindex="0" aria-controls="homeScreen" aria-expanded="false">Home</span>

      <div id="levelCells" class="level-cells"></div>

      <!-- Season Pill moved to last position -->
      <span class="pill" id="levelLabel" role="button" tabindex="0" aria-controls="levelModal" aria-expanded="false"></span>

      <!-- History button -->
      <span class="pill" id="historyBtn" role="button" tabindex="0" aria-controls="historyScreen" aria-expanded="false" aria-label="History">
        <span class="history-icon" aria-hidden="true">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 640 640">
            <path d="M288 64C323.3 64 352 85.5 352 112C352 122.4 347.6 132 340 139.9C333.4 146.8 328 155.2 328 164.8C328 179.8 340.2 192 355.2 192L400 192C426.5 192 448 213.5 448 240L448 284.8C448 299.8 460.2 312 475.2 312C484.7 312 493.2 306.6 500.1 300C508 292.5 517.6 288 528 288C554.5 288 576 316.7 576 352C576 387.3 554.5 416 528 416C517.6 416 507.9 411.6 500.1 404C493.2 397.4 484.8 392 475.2 392C460.2 392 448 404.2 448 419.2L448 528C448 554.5 426.5 576 400 576L343.2 576C330.4 576 320 565.6 320 552.8C320 543.6 325.8 535.5 333.2 530C344.8 521.3 352 509.3 352 496C352 469.5 323.3 448 288 448C252.7 448 224 469.5 224 496C224 509.3 231.2 521.3 242.8 530C250.2 535.5 256 543.5 256 552.8C256 565.6 245.6 576 232.8 576L112 576C85.5 576 64 554.5 64 528L64 407.2C64 394.4 74.4 384 87.2 384C96.4 384 104.5 389.8 110 397.2C118.7 408.8 130.7 416 144 416C170.5 416 192 387.3 192 352C192 316.7 170.5 288 144 288C130.7 288 118.7 295.2 110 306.8C104.5 314.2 96.5 320 87.2 320C74.4 320 64 309.6 64 296.8L64 240C64 213.5 85.5 192 112 192L220.8 192C235.8 192 248 179.8 248 164.8C248 155.3 242.6 146.8 236 139.9C228.5 132 224 122.4 224 112C224 85.5 252.7 64 288 64z"/>
          </svg>
        </span>
      </span>

    </div>

    <!-- How To Play modal on ROOT -->
    <div id="howToModal" class="modal" role="dialog" aria-labelledby="howToTitle">
      <div class="modal-card">
        <button id="howToCloseX" class="modal-close">×</button>
        <h2 class="modal-title" id="howToTitle">How To Play</h2>
        <div class="howto-body">
          <h3>Look at the pixel art and guess the character or title.</h3>
          <p><strong>PIXEL PEOPLE</strong> can include both real and fictional characters, as well as titles from movies, bands, TV shows, athletes, celebrities, and more.</p>
          <p>If you find yourself stuck, remember to use your hint! If you want to give up and reveal the answer, just click on skip.</p>
          <p>Finish all 9 puzzles to unlock the next level.</p>
        </div>
          <div class="modal-actions"><button id="howToOk">Got It</button></div>
      </div>
    </div>

    <!-- HOME SCREEN -->
    <section id="homeScreen" class="home" aria-hidden="true">
      <div class="home-card">
        <div class="home-header">
          <div class="home-logo" aria-label="Pixel People Logo">
            <div class="logo-mark"><img src="pp_logo.svg" alt=""></div>
          </div>

          <div class="home-current">
            <div class="home-labelnum">No. <span id="homePuzzleNum">1</span></div>
          </div>
        </div>

        <div class="home-actions">
          <div class="home-art" id="homeArtBox">
            <img id="homeArt" alt="Current puzzle preview" src="" draggable="false" oncontextmenu="return false">
          </div>

          <button id="homePlay">Play Now</button>
          <button id="homeHowTo">How To Play</button>
          <button id="homeShare">Share</button>
          <a id="homeCoffee" class="btn-link" href="#" target="_blank" rel="noopener">Buy Me A Coffee</a>
        </div>
      </div>      
    </section>

    <!-- SEASON COMPLETE SPLASH -->
    <section id="seasonSplash" class="home" aria-hidden="true">
      <div class="home-card">
        <div class="home-header">
          <div class="home-logo" aria-label="Pixel People Season Complete">
            <div class="logo-mark"><img src="pp_logo.svg" alt=""></div>
          </div>

          <div class="home-current">
            <div class="home-labelnum">
              Season <span id="seasonNumber">1</span> Complete              
            </div>
          </div>
        </div>        

        <div class="home-actions">
          <div class="home-art">
            <img id="seasonArt" alt="Season complete" src="splash.png"
                 draggable="false" oncontextmenu="return false">
          </div>

          <button id="seasonPlayNext">Play Season 2</button>
          <button id="seasonHowTo">How To Play</button>
          <button id="seasonShare">Share</button>
          <a id="seasonCoffee" class="btn-link" href="#" target="_blank" rel="noopener">Buy Me A Coffee</a>
        </div>
      </div>
    </section>

    <!-- HISTORY SCREEN -->
    <section id="historyScreen" class="history" aria-hidden="true">
      <div class="history-card">
        <div class="history-header">
          <div class="history-title">History</div>
          <div class="history-season-buttons">
            <button type="button" class="history-season-btn" data-season="1">Season 1</button>
            <button type="button" class="history-season-btn" data-season="2">Season 2</button>
            <button type="button" class="history-season-btn" data-season="3">Season 3</button>
          </div>
        </div>
        <div class="history-body">
          <div id="historyGrid" class="thumb-grid history-grid"></div>
        </div>
      </div>
    </section>

    <!-- Level Summary -->
    <div id="levelModal" class="modal" role="dialog" aria-labelledby="modalTitle">
      <div class="modal-card">
        <button id="modalReset" class="modal-reset">Reset</button>
        <button id="modalCloseX" class="modal-close">×</button>
        <h2 class="modal-title" id="modalTitle">Level 1</h2>
        <p class="score-blurb" id="scoreBlurb">
          Scoring: Exact name 10, accepted answer 8, with hint 4. Skipping reveals the answer and ends the puzzle.
        </p>
        <div class="modal-rows">
          <div class="modal-row"><span>Correct Puzzles</span><strong id="mCorrect">0/9</strong></div>
          <div class="modal-row"><span>Season Score</span><strong id="mTotal">0</strong></div>
          <div class="modal-row"><span>Game Score</span><strong id="mGameTotal">0</strong></div>
        </div>
        <div id="thumbGrid" class="thumb-grid"></div>
        <div class="modal-actions">
          <div class="note" id="unlockNote" style="display:none;">Complete all 9 puzzles to unlock next level.</div>
          <button id="modalNext">Start Next Level</button>
        </div>
      </div>
    </div>

    <!-- GAME STAGE -->
    <section id="stage" class="stage">
      <div class="artbox" id="artbox">
        <img id="art" alt="Character puzzle" src="" draggable="false" oncontextmenu="return false" />
        <div class="result-overlay"><div id="result" class="result"></div></div>
        <button id="hint" class="fab left">Hint</button>
        <button id="giveup" class="fab right">Skip</button>
      </div>

      <div class="col">
        <div class="guess-row">
          <input id="guess" type="text" placeholder="Type your guess..." autocomplete="off" inputmode="none" />
          <button id="next" disabled>Next</button>
        </div>
        <div id="kb">
          <div class="kb-row" id="kb-r1"></div>
          <div class="kb-row" id="kb-r2"></div>
          <div class="kb-row" id="kb-r3"></div>
          <div class="kb-row" id="kb-r4"></div>
        </div>
      </div>

      <!-- Confirm Give Up -->
      <div id="confirmModal" class="modal" role="dialog" aria-labelledby="confirmTitle">
        <div class="modal-card">
          <button id="confirmCloseX" class="modal-close">×</button>
          <h2 class="modal-title" id="confirmTitle">Give Up?</h2>
          <div class="confirm-text">Are You Sure. You will lose the chance to earn full points for this puzzle.</div>
          <div class="modal-actions"><button id="confirmYes">Yes, I Give Up</button></div>
        </div>
      </div>
      
    </section>
  </div>

  <script src="confetti.js"></script>
  <script src="main.js"></script>
</body>
</html>